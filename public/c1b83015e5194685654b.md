---
title: ' 【Linux】一定期間経過したディレクトリやファイルを削除する方法'
tags:
  - Linux
  - Linuxコマンド
  - 初学者
private: false
updated_at: '2023-07-16T23:57:51+09:00'
id: c1b83015e5194685654b
organization_url_name: null
slide: false
ignorePublish: false
---

## ファイルの削除
以下のように`find`コマンドを使用して一定の期間が経過したファイルを削除します。

```zsh
find /path/to/dir -name '*.log' -mtime +30 -delete
```

上記を実行すると対象ディレクトリの`.log`ファイルのうち最終変更日から30日経過しているファイルを削除します。

`-mtime`の部分を変更することで期間の起算日を変更できます。
使用可能なオプションは以下のとおりです。


| オプション|説明|
|:-----------:|:------------|
| -mmin|最終変更日時から（分）|
| -mtime|最終変更日時から（日）|
| -amin|最終アクセス日時から（分）|
| -atime|最終アクセス日時から（日）|
| -cmin|データとステータスの最終変更日時から（分）|
| -ctime|データとステータスの最終変更日時から（日）|


また数字の前の`+`の部分には`-`を指定したり指定しないことができます。

| オプション|説明|
|:-----------:|:------------|
| + |過去から指定した数字までに|
| - |現在から指定した数字までに|
| 指定なし |指定した数字前に|

- 30日前までに変更された

```zsh
-mtime +30
```

- 現在から30分前までに変更された

```zsh
-mmin -30
```

- 30日前にアクセスされた
```zsh
-atime 30
```

## ディレクトリの削除
上記の方法では空ではないディレクトリを削除することができません。
中身のあるディレクトリを削除するには以下のように実行します。

```zsh
find /path/to/dir -type d -mtime +30 | xargs rm -fr
```

上記を実行すると最終変更日から30日経過しているディレクトリを削除できます。

