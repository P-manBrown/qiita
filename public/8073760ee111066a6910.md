---
title: ã€JavaScriptã€‘æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆ
tags:
  - JavaScript
private: false
updated_at: '2023-11-26T23:47:42+09:00'
id: 8073760ee111066a6910
organization_url_name: null
slide: false
ignorePublish: false
---
## `length`

æ–‡å­—åˆ—ã‚’å˜ç´”ã«`length`ã§ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã¨çµæœã¯æ–‡å­—ã‚³ãƒ¼ãƒ‰ã®æ•°ã®åˆè¨ˆã¨ãªã‚Šã¾ã™ã€‚

```js
'ã‚'.length // 1
'ğ©¸½'.length // 2
'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦'.length // 11
```

`ğ©¸½`ã®ã‚ˆã†ãªã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢æ–‡å­—ã‚„ã€`ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦`ã®ã‚ˆã†ãªé€£çµã•ã‚ŒãŸçµµæ–‡å­—ã¯æ­£ç¢ºã«ã‚«ã‚¦ãƒ³ãƒˆã§ãã¾ã›ã‚“ã€‚

## æ–‡å­—å˜ä½ã§ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹

ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§æ–‡å­—å˜ä½ã§ã‚«ã‚¦ãƒ³ãƒˆã§ãã¾ã™ã€‚

```ts
function countCharacters(str: string) {
  const characterCount = [...str].length
  return characterCount
}

countCharacters('ã‚') // 1
countCharacters('ğ©¸½') // 1
countCharacters('ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦') // 7
```

ä¸Šè¨˜ã®ã‚ˆã†ã«ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢æ–‡å­—ãŒæ–‡å­—å˜ä½ã§ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã™ã€‚
`ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦`ã¯`['ğŸ‘¨', 'â€', 'ğŸ‘©', 'â€', 'ğŸ‘§', 'â€', 'ğŸ‘¦']`ã®ã‚ˆã†ã«åˆ†å‰²ã•ã‚Œã¦ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã™ã€‚

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/length#examples:~:text=Since%20length%20counts%20code%20units%20instead%20of%20characters%2C%20if%20you%20want%20to%20get%20the%20number%20of%20characters%2C%20you%20can%20first%20split%20the%20string%20with%20its%20iterator%2C%20which%20iterates%20by%20characters%3A

## æ›¸è¨˜ç´ å˜ä½ã§ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹

'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦'ã®ã‚ˆã†ãªçµµæ–‡å­—ã‚‚1æ–‡å­—ã¨ã—ã¦ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹å ´åˆã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚

```ts
export function countGraphemes(str: string) {
  const segmenter = new Intl.Segmenter('ja-JP', { granularity: 'grapheme' })
  const graphemeSegments = segmenter.segment(str)
  const graphemeCount = Array.from(graphemeSegments).length
  return graphemeCount
}

countGraphemes('ã‚') // 1
countGraphemes('ğ©¸½') // 1
countGraphemes('ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦') // 1
```

https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Intl/Segmenter

https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Intl/Segmenter/segment

https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/from
