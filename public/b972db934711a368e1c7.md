---
title: 【Rails】scopeメソッドについて【初学者の疑問点を簡潔に解説】
tags:
  - Rails
  - scope
  - 初学者
private: false
updated_at: '2021-12-10T22:00:23+09:00'
id: b972db934711a368e1c7
organization_url_name: null
slide: false
ignorePublish: false
---
## はじめに
　本記事は、プログラミングの学習を始めて1ヶ月の初学者が、学習を進めていて疑問に思った点について調べた結果を備忘録も兼ねてまとめたものです。
　そのため、記事の内容に誤りが含まれている可能性があります。ご容赦ください。
　間違いを見つけた方は、お手数ですが、ご指摘いただけますと幸いです。

## 今回の疑問点
　今回の疑問点は、

　　_scopeメソッドについて_
　
　です。　

 　以前、1週間分の投稿を表示させる機能を実装している際に上記について疑問を持ちました。

## 疑問点についての解説

###結論
　scopetメソッドは、Railsのスコープ機能を使用するためのメソッドで、スコープ機能を使用することで、クエリを定義し、同じクエリを複数回使う場合でのメンテナンス性を上げることができる。

###scopeメソッドの使い方
記述方法は以下の通り。
モデルに記述します。

```app/models/sample.rb
  scope: スコープ名, ラムダ式
```
```app/models/sample.rb
  scope :active, -> { where(deleted: false) }
```
モデルで定義したら以下のようにコントローラで呼び出します。

```app/controllers/samples_controller.rb
 定義したモデル名.スコープ名
```
```app/controllers/samples_controller.rb
 Sample.active
```

スコープ機能を利用することで記述量が減り、メンテナンス性が高くなります。
また、複数回同じクエリを記述することがなくなり、Railsの基本理念の一つである、`Don’t Repeat Yourself: DRY`を実現することができます。



余談ですが、scopeメソッドを使用しなくても以下のように記述することで同様のことを実現することができます。

```app/models/sample.rb
  def self.スコープ名(引数)
   処理
  end
```
引数は、不要であれば省略可能です。


## まとめ
最後にポイントをまとめます。

- scopetメソッドを使用することで、同じクエリを複数回使う場合でのメンテナンス性を上げることができる。
- モデルに`scope: スコープ名, ラムダ式`と記述することで定義することができる
- コントローラに`定義したモデル名.スコープ名`と記述することで呼び出すことができる
